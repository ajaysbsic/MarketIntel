2026-01-25 07:42:19.917 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-25 07:42:19.948 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-25 07:42:19.967 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-01-25 07:42:20.007 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-01-25 07:42:20.015 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-25 07:42:20.023 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-25 07:42:20.038 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-01-25 07:42:20.050 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-25 07:42:20.057 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-01-25 07:42:20.064 +03:00 [INF] Database migration completed successfully
2026-01-25 07:42:20.069 +03:00 [INF] Market Intelligence API starting...
2026-01-25 07:42:20.125 +03:00 [INF] Now listening on: http://localhost:5021
2026-01-25 07:42:20.128 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 07:42:20.130 +03:00 [INF] Hosting environment: Development
2026-01-25 07:42:20.131 +03:00 [INF] Content root path: D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Api
2026-01-25 07:42:20.218 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5021/api/companycontact/alfanar - null null
2026-01-25 07:42:20.265 +03:00 [WRN] Failed to determine the https port for redirect.
2026-01-25 07:42:20.278 +03:00 [INF] Executing endpoint 'Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api)'
2026-01-25 07:42:20.315 +03:00 [INF] Route matched with {action = "GetCompanyContact", controller = "CompanyContact"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCompanyContact(System.String) on controller Alfanar.MarketIntel.Api.Controllers.CompanyContactController (Alfanar.MarketIntel.Api).
2026-01-25 07:42:20.644 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@ToLower='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[Company], [c1].[CreatedAt], [c1].[HeadquartersAddressLine1], [c1].[HeadquartersAddressLine2], [c1].[HeadquartersCity], [c1].[HeadquartersCountry], [c1].[HeadquartersCountryCode], [c1].[HeadquartersLandmark], [c1].[HeadquartersPoBox], [c1].[HeadquartersPostalCode], [c1].[MainPhone], [c1].[PhoneAvailabilityDays], [c1].[PhoneAvailabilityHours], [c1].[PhoneAvailabilityTimezone], [c1].[SalesEmail], [c1].[SupportEmail], [c1].[TollFreePhone], [c1].[UpdatedAt], [c0].[Id], [c0].[Area], [c0].[Building], [c0].[BuildingNumber], [c0].[City], [c0].[CompanyContactInfoId], [c0].[CompanyName], [c0].[Country], [c0].[CreatedAt], [c0].[District], [c0].[Floor], [c0].[OfficeType], [c0].[PoBox], [c0].[Region], [c0].[Street], [c0].[Tower], [c0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Company], [c].[CreatedAt], [c].[HeadquartersAddressLine1], [c].[HeadquartersAddressLine2], [c].[HeadquartersCity], [c].[HeadquartersCountry], [c].[HeadquartersCountryCode], [c].[HeadquartersLandmark], [c].[HeadquartersPoBox], [c].[HeadquartersPostalCode], [c].[MainPhone], [c].[PhoneAvailabilityDays], [c].[PhoneAvailabilityHours], [c].[PhoneAvailabilityTimezone], [c].[SalesEmail], [c].[SupportEmail], [c].[TollFreePhone], [c].[UpdatedAt]
    FROM [CompanyContactInfo] AS [c]
    WHERE LOWER([c].[Company]) = @ToLower
) AS [c1]
LEFT JOIN [CompanyOffices] AS [c0] ON [c1].[Id] = [c0].[CompanyContactInfoId]
ORDER BY [c1].[Id]
2026-01-25 07:42:20.727 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alfanar.MarketIntel.Application.DTOs.CompanyContactInfoDto'.
2026-01-25 07:42:20.750 +03:00 [INF] Executed action Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api) in 424.6057ms
2026-01-25 07:42:20.754 +03:00 [INF] Executed endpoint 'Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api)'
2026-01-25 07:42:20.760 +03:00 [INF] HTTP GET /api/companycontact/alfanar responded 200 in 512.5760 ms
2026-01-25 07:42:20.766 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5021/api/companycontact/alfanar - 200 null application/json; charset=utf-8 549.3383ms
2026-01-25 07:42:32.010 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5021/api/aichat/context?query=Samsung - null null
2026-01-25 07:42:32.018 +03:00 [INF] Executing endpoint 'Alfanar.MarketIntel.Api.Controllers.AiChatController.GetContext (Alfanar.MarketIntel.Api)'
2026-01-25 07:42:32.027 +03:00 [INF] Route matched with {action = "GetContext", controller = "AiChat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Alfanar.MarketIntel.Application.DTOs.RagContextDto]] GetContext(System.String, System.String) on controller Alfanar.MarketIntel.Api.Controllers.AiChatController (Alfanar.MarketIntel.Api).
2026-01-25 07:42:32.036 +03:00 [INF] Google AI Analyzer initialized with model: gemini-2.5-flash
2026-01-25 07:42:32.043 +03:00 [INF] Getting RAG context for: Samsung
2026-01-25 07:42:32.139 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@companyName_contains='?' (Size = 200), @p='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f0].[Id], [f0].[CompanyName], [f0].[CreatedUtc], [f0].[DownloadUrl], [f0].[ErrorMessage], [f0].[ExtractedText], [f0].[FilePath], [f0].[FileSizeBytes], [f0].[FiscalQuarter], [f0].[FiscalYear], [f0].[IsProcessed], [f0].[Language], [f0].[Metadata], [f0].[PageCount], [f0].[ProcessedUtc], [f0].[ProcessingStatus], [f0].[PublishedDate], [f0].[Region], [f0].[ReportType], [f0].[RequiredOcr], [f0].[Sector], [f0].[SourceUrl], [f0].[Title], [f0].[UpdatedUtc], [r].[Id], [r].[AiModel], [r].[AnalysisConfidence], [r].[CompetitivePosition], [r].[CreatedUtc], [r].[ExecutiveSummary], [r].[FinancialMetrics], [r].[FinancialReportId], [r].[InvestmentThesis], [r].[KeyHighlights], [r].[MarketOutlook], [r].[ProcessingTimeMs], [r].[RelatedEntities], [r].[RiskFactors], [r].[SentimentLabel], [r].[SentimentScore], [r].[StrategicInitiatives], [r].[Tags], [r].[TokensUsed], [r].[UpdatedUtc]
FROM (
    SELECT [f].[Id], [f].[CompanyName], [f].[CreatedUtc], [f].[DownloadUrl], [f].[ErrorMessage], [f].[ExtractedText], [f].[FilePath], [f].[FileSizeBytes], [f].[FiscalQuarter], [f].[FiscalYear], [f].[IsProcessed], [f].[Language], [f].[Metadata], [f].[PageCount], [f].[ProcessedUtc], [f].[ProcessingStatus], [f].[PublishedDate], [f].[Region], [f].[ReportType], [f].[RequiredOcr], [f].[Sector], [f].[SourceUrl], [f].[Title], [f].[UpdatedUtc], COALESCE([f].[PublishedDate], [f].[CreatedUtc]) AS [c]
    FROM [FinancialReports] AS [f]
    WHERE [f].[CompanyName] LIKE @companyName_contains ESCAPE N'\'
    ORDER BY COALESCE([f].[PublishedDate], [f].[CreatedUtc]) DESC
    OFFSET @p ROWS FETCH NEXT @p0 ROWS ONLY
) AS [f0]
LEFT JOIN [ReportAnalyses] AS [r] ON [f0].[Id] = [r].[FinancialReportId]
ORDER BY [f0].[c] DESC
2026-01-25 07:42:32.163 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@searchTerm_contains='?' (Size = 500), @searchTerm_contains0='?' (Size = 4000), @p='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n1].[Id], [n1].[BodyText], [n1].[Category], [n1].[ClassificationConfidence], [n1].[CreatedUtc], [n1].[IsProcessed], [n1].[ProcessedUtc], [n1].[PublishedUtc], [n1].[Region], [n1].[RelatedFinancialReportId], [n1].[RssFeedId], [n1].[Source], [n1].[Summary], [n1].[Title], [n1].[Url], [s].[NewsArticleId], [s].[TagId], [s].[Id], [s].[CreatedUtc], [s].[Name], [s].[NormalizedName]
FROM (
    SELECT [n].[Id], [n].[BodyText], [n].[Category], [n].[ClassificationConfidence], [n].[CreatedUtc], [n].[IsProcessed], [n].[ProcessedUtc], [n].[PublishedUtc], [n].[Region], [n].[RelatedFinancialReportId], [n].[RssFeedId], [n].[Source], [n].[Summary], [n].[Title], [n].[Url]
    FROM [NewsArticles] AS [n]
    WHERE [n].[Title] LIKE @searchTerm_contains ESCAPE N'\' OR [n].[Summary] LIKE @searchTerm_contains0 ESCAPE N'\' OR [n].[BodyText] LIKE @searchTerm_contains0 ESCAPE N'\'
    ORDER BY [n].[PublishedUtc] DESC
    OFFSET @p ROWS FETCH NEXT @p0 ROWS ONLY
) AS [n1]
LEFT JOIN (
    SELECT [n0].[NewsArticleId], [n0].[TagId], [t].[Id], [t].[CreatedUtc], [t].[Name], [t].[NormalizedName]
    FROM [NewsArticleTags] AS [n0]
    INNER JOIN [Tags] AS [t] ON [n0].[TagId] = [t].[Id]
) AS [s] ON [n1].[Id] = [s].[NewsArticleId]
ORDER BY [n1].[PublishedUtc] DESC, [n1].[Id], [s].[NewsArticleId], [s].[TagId]
2026-01-25 07:42:32.165 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Alfanar.MarketIntel.Infrastructure.Persistence.MarketIntelDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-01-25 07:42:32.175 +03:00 [ERR] Error retrieving alerts
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Alfanar.MarketIntel.Infrastructure.Repositories.SmartAlertRepository.GetUnacknowledgedAsync() in D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Infrastructure\Repositories\SmartAlertRepository.cs:line 57
   at Alfanar.MarketIntel.Application.Services.RagContextService.RetrieveAlertsAsync(String query, String entity) in D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Application\Services\RagContextService.cs:line 222
2026-01-25 07:42:32.186 +03:00 [INF] RAG Context built in 139ms: 0 reports, 0 news, 0 alerts
2026-01-25 07:42:32.197 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alfanar.MarketIntel.Application.DTOs.RagContextDto'.
2026-01-25 07:42:32.209 +03:00 [INF] Executed action Alfanar.MarketIntel.Api.Controllers.AiChatController.GetContext (Alfanar.MarketIntel.Api) in 176.0103ms
2026-01-25 07:42:32.214 +03:00 [INF] Executed endpoint 'Alfanar.MarketIntel.Api.Controllers.AiChatController.GetContext (Alfanar.MarketIntel.Api)'
2026-01-25 07:42:32.217 +03:00 [INF] HTTP GET /api/aichat/context responded 200 in 200.0309 ms
2026-01-25 07:42:32.221 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5021/api/aichat/context?query=Samsung - 200 null application/json; charset=utf-8 210.9087ms
2026-01-25 07:42:42.522 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5021/api/aichat/query - application/json 67
2026-01-25 07:42:42.528 +03:00 [INF] Executing endpoint 'Alfanar.MarketIntel.Api.Controllers.AiChatController.GetAiResponse (Alfanar.MarketIntel.Api)'
2026-01-25 07:42:42.535 +03:00 [INF] Route matched with {action = "GetAiResponse", controller = "AiChat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Alfanar.MarketIntel.Application.DTOs.AiResponseDto]] GetAiResponse(Alfanar.MarketIntel.Application.DTOs.ChatRequestDto) on controller Alfanar.MarketIntel.Api.Controllers.AiChatController (Alfanar.MarketIntel.Api).
2026-01-25 07:42:42.549 +03:00 [INF] AI Query: What is Alfanar's contact information?
2026-01-25 07:42:42.555 +03:00 [INF] Processing AI query: What is Alfanar's contact information?
2026-01-25 07:42:42.564 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Alfanar.MarketIntel.Infrastructure.Persistence.MarketIntelDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-01-25 07:42:42.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@companyName_contains='?' (Size = 200), @p='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f0].[Id], [f0].[CompanyName], [f0].[CreatedUtc], [f0].[DownloadUrl], [f0].[ErrorMessage], [f0].[ExtractedText], [f0].[FilePath], [f0].[FileSizeBytes], [f0].[FiscalQuarter], [f0].[FiscalYear], [f0].[IsProcessed], [f0].[Language], [f0].[Metadata], [f0].[PageCount], [f0].[ProcessedUtc], [f0].[ProcessingStatus], [f0].[PublishedDate], [f0].[Region], [f0].[ReportType], [f0].[RequiredOcr], [f0].[Sector], [f0].[SourceUrl], [f0].[Title], [f0].[UpdatedUtc], [r].[Id], [r].[AiModel], [r].[AnalysisConfidence], [r].[CompetitivePosition], [r].[CreatedUtc], [r].[ExecutiveSummary], [r].[FinancialMetrics], [r].[FinancialReportId], [r].[InvestmentThesis], [r].[KeyHighlights], [r].[MarketOutlook], [r].[ProcessingTimeMs], [r].[RelatedEntities], [r].[RiskFactors], [r].[SentimentLabel], [r].[SentimentScore], [r].[StrategicInitiatives], [r].[Tags], [r].[TokensUsed], [r].[UpdatedUtc]
FROM (
    SELECT [f].[Id], [f].[CompanyName], [f].[CreatedUtc], [f].[DownloadUrl], [f].[ErrorMessage], [f].[ExtractedText], [f].[FilePath], [f].[FileSizeBytes], [f].[FiscalQuarter], [f].[FiscalYear], [f].[IsProcessed], [f].[Language], [f].[Metadata], [f].[PageCount], [f].[ProcessedUtc], [f].[ProcessingStatus], [f].[PublishedDate], [f].[Region], [f].[ReportType], [f].[RequiredOcr], [f].[Sector], [f].[SourceUrl], [f].[Title], [f].[UpdatedUtc], COALESCE([f].[PublishedDate], [f].[CreatedUtc]) AS [c]
    FROM [FinancialReports] AS [f]
    WHERE [f].[CompanyName] LIKE @companyName_contains ESCAPE N'\'
    ORDER BY COALESCE([f].[PublishedDate], [f].[CreatedUtc]) DESC
    OFFSET @p ROWS FETCH NEXT @p0 ROWS ONLY
) AS [f0]
LEFT JOIN [ReportAnalyses] AS [r] ON [f0].[Id] = [r].[FinancialReportId]
ORDER BY [f0].[c] DESC
2026-01-25 07:42:42.583 +03:00 [ERR] Error retrieving news
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Alfanar.MarketIntel.Infrastructure.Repositories.NewsRepository.GetFilteredAsync(String category, String region, Nullable`1 fromDate, Nullable`1 toDate, String searchTerm, List`1 tags, Int32 pageNumber, Int32 pageSize) in D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Infrastructure\Repositories\NewsRepository.cs:line 59
   at Alfanar.MarketIntel.Application.Services.RagContextService.RetrieveNewsAsync(String query, String entity) in D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Application\Services\RagContextService.cs:line 180
2026-01-25 07:42:42.597 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AcknowledgedAt], [s].[AcknowledgedBy], [s].[ActualValue], [s].[AlertType], [s].[CompanyName], [s].[CreatedAt], [s].[FinancialReportId], [s].[IsAcknowledged], [s].[Message], [s].[Metadata], [s].[Severity], [s].[ThresholdValue], [s].[Title], [s].[TriggerKeywords], [s].[TriggerMetric], [f].[Id], [f].[CompanyName], [f].[CreatedUtc], [f].[DownloadUrl], [f].[ErrorMessage], [f].[ExtractedText], [f].[FilePath], [f].[FileSizeBytes], [f].[FiscalQuarter], [f].[FiscalYear], [f].[IsProcessed], [f].[Language], [f].[Metadata], [f].[PageCount], [f].[ProcessedUtc], [f].[ProcessingStatus], [f].[PublishedDate], [f].[Region], [f].[ReportType], [f].[RequiredOcr], [f].[Sector], [f].[SourceUrl], [f].[Title], [f].[UpdatedUtc]
FROM [SmartAlerts] AS [s]
LEFT JOIN [FinancialReports] AS [f] ON [s].[FinancialReportId] = [f].[Id]
WHERE [s].[IsAcknowledged] = CAST(0 AS bit)
ORDER BY [s].[CreatedAt] DESC
2026-01-25 07:42:42.610 +03:00 [INF] RAG Context built in 49ms: 0 reports, 0 news, 0 alerts
2026-01-25 07:42:42.625 +03:00 [INF] Start processing HTTP request POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?*
2026-01-25 07:42:42.641 +03:00 [INF] Sending HTTP request POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?*
2026-01-25 07:43:02.278 +03:00 [INF] Received HTTP response headers after 19628.1019ms - 200
2026-01-25 07:43:02.286 +03:00 [INF] End processing HTTP request after 19661.491ms - 200
2026-01-25 07:43:02.303 +03:00 [INF] AI response generated in 19748ms
2026-01-25 07:43:02.308 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alfanar.MarketIntel.Application.DTOs.AiResponseDto'.
2026-01-25 07:43:02.316 +03:00 [INF] Executed action Alfanar.MarketIntel.Api.Controllers.AiChatController.GetAiResponse (Alfanar.MarketIntel.Api) in 19776.2661ms
2026-01-25 07:43:02.321 +03:00 [INF] Executed endpoint 'Alfanar.MarketIntel.Api.Controllers.AiChatController.GetAiResponse (Alfanar.MarketIntel.Api)'
2026-01-25 07:43:02.325 +03:00 [INF] HTTP POST /api/aichat/query responded 200 in 19797.3179 ms
2026-01-25 07:43:02.330 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5021/api/aichat/query - 200 null application/json; charset=utf-8 19807.2562ms
