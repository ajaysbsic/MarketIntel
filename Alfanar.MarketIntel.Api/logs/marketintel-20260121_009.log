2026-01-21 11:38:04.140 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-21 11:38:04.184 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-21 11:38:04.202 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-01-21 11:38:04.239 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-01-21 11:38:04.253 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-21 11:38:04.262 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-21 11:38:04.277 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-01-21 11:38:04.289 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-21 11:38:04.298 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-01-21 11:38:04.306 +03:00 [INF] Database migration completed successfully
2026-01-21 11:38:04.311 +03:00 [INF] Market Intelligence API starting...
2026-01-21 11:38:04.338 +03:00 [INF] Now listening on: http://localhost:5021
2026-01-21 11:38:04.341 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-21 11:38:04.342 +03:00 [INF] Hosting environment: Development
2026-01-21 11:38:04.343 +03:00 [INF] Content root path: D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Api
2026-01-21 13:09:08.791 +03:00 [INF] Application is shutting down...
2026-01-21 13:09:31.476 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-01-21 13:09:31.510 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long. {"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations"}
2026-01-21 13:09:31.519 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-01-21 13:09:31.549 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-01-21 13:09:31.553 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-01-21 13:09:31.553 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-01-21 13:09:31.558 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-01-21 13:09:31.561 +03:00 [INF] No migrations were applied. The database is already up to date. {"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations"}
2026-01-21 13:09:31.563 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-01-21 13:09:31.563 +03:00 [INF] Database migration completed successfully {}
2026-01-21 13:09:31.565 +03:00 [INF] Market Intelligence API starting... {}
2026-01-21 13:09:31.590 +03:00 [INF] Now listening on: http://localhost:5021 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-01-21 13:09:31.591 +03:00 [INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-01-21 13:09:31.591 +03:00 [INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-01-21 13:09:31.591 +03:00 [INF] Content root path: D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Api {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-01-21 13:09:37.790 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5021/api/companycontact/alfanar - null null {"EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:37.812 +03:00 [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:37.814 +03:00 [INF] Executing endpoint 'Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api)' {"EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:37.821 +03:00 [INF] Route matched with {action = "GetCompanyContact", controller = "CompanyContact"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCompanyContact(System.String) on controller Alfanar.MarketIntel.Api.Controllers.CompanyContactController (Alfanar.MarketIntel.Api). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d4db56ae-cbd9-4a18-807a-2b0c6246b11d","ActionName":"Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api)","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:38.007 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@ToLower='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[Company], [c1].[CreatedAt], [c1].[HeadquartersAddressLine1], [c1].[HeadquartersAddressLine2], [c1].[HeadquartersCity], [c1].[HeadquartersCountry], [c1].[HeadquartersCountryCode], [c1].[HeadquartersLandmark], [c1].[HeadquartersPoBox], [c1].[HeadquartersPostalCode], [c1].[MainPhone], [c1].[PhoneAvailabilityDays], [c1].[PhoneAvailabilityHours], [c1].[PhoneAvailabilityTimezone], [c1].[SalesEmail], [c1].[SupportEmail], [c1].[TollFreePhone], [c1].[UpdatedAt], [c0].[Id], [c0].[Area], [c0].[Building], [c0].[BuildingNumber], [c0].[City], [c0].[CompanyContactInfoId], [c0].[CompanyName], [c0].[Country], [c0].[CreatedAt], [c0].[District], [c0].[Floor], [c0].[OfficeType], [c0].[PoBox], [c0].[Region], [c0].[Street], [c0].[Tower], [c0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Company], [c].[CreatedAt], [c].[HeadquartersAddressLine1], [c].[HeadquartersAddressLine2], [c].[HeadquartersCity], [c].[HeadquartersCountry], [c].[HeadquartersCountryCode], [c].[HeadquartersLandmark], [c].[HeadquartersPoBox], [c].[HeadquartersPostalCode], [c].[MainPhone], [c].[PhoneAvailabilityDays], [c].[PhoneAvailabilityHours], [c].[PhoneAvailabilityTimezone], [c].[SalesEmail], [c].[SupportEmail], [c].[TollFreePhone], [c].[UpdatedAt]
    FROM [CompanyContactInfo] AS [c]
    WHERE LOWER([c].[Company]) = @ToLower
) AS [c1]
LEFT JOIN [CompanyOffices] AS [c0] ON [c1].[Id] = [c0].[CompanyContactInfoId]
ORDER BY [c1].[Id] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d4db56ae-cbd9-4a18-807a-2b0c6246b11d","ActionName":"Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api)","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:38.054 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alfanar.MarketIntel.Application.DTOs.CompanyContactInfoDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d4db56ae-cbd9-4a18-807a-2b0c6246b11d","ActionName":"Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api)","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:38.068 +03:00 [INF] Executed action Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api) in 245.6051ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:38.069 +03:00 [INF] Executed endpoint 'Alfanar.MarketIntel.Api.Controllers.CompanyContactController.GetCompanyContact (Alfanar.MarketIntel.Api)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:38.070 +03:00 [INF] HTTP GET /api/companycontact/alfanar responded 200 in 267.5483 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNIOQKNKIC2U:00000001","ConnectionId":"0HNIOQKNKIC2U"}
2026-01-21 13:09:38.073 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5021/api/companycontact/alfanar - 200 null application/json; charset=utf-8 283.4249ms {"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIOQKNKIC2U:00000001","RequestPath":"/api/companycontact/alfanar","ConnectionId":"0HNIOQKNKIC2U"}
