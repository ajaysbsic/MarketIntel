2026-02-10 12:27:31.396 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-10 12:27:31.427 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-10 12:27:31.429 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-10 12:27:31.430 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-10 12:27:31.442 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-10 12:27:31.459 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-02-10 12:27:31.460 +03:00 [INF] Database migration completed successfully
2026-02-10 12:27:31.462 +03:00 [INF] Market Intelligence API starting...
2026-02-10 12:27:31.484 +03:00 [INF] Now listening on: http://localhost:5021
2026-02-10 12:27:31.485 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 12:27:31.485 +03:00 [INF] Hosting environment: Development
2026-02-10 12:27:31.486 +03:00 [INF] Content root path: D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Api
2026-02-10 12:28:29.799 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5021/swagger/index.html - null null
2026-02-10 12:28:29.844 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 30.7538 ms
2026-02-10 12:28:29.846 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5021/swagger/index.html - 200 null text/html;charset=utf-8 46.9506ms
2026-02-10 12:30:13.529 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-02-10 12:30:13.560 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-02-10 12:30:13.561 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-02-10 12:30:13.562 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-02-10 12:30:13.574 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
2026-02-10 12:30:13.591 +03:00 [INF] No migrations were applied. The database is already up to date. {"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations"}
2026-02-10 12:30:13.592 +03:00 [INF] Database migration completed successfully {}
2026-02-10 12:30:13.594 +03:00 [INF] Market Intelligence API starting... {}
2026-02-10 12:30:13.615 +03:00 [INF] Now listening on: http://localhost:5021 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-02-10 12:30:13.616 +03:00 [INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-02-10 12:30:13.616 +03:00 [INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-02-10 12:30:13.616 +03:00 [INF] Content root path: D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Api {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-02-10 12:30:42.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5021/swagger/index.html - null null {"EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNJ8GS7SILF9:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:42.845 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 29.9487 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ8GS7SILF9:00000001","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:42.846 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5021/swagger/index.html - 200 null text/html;charset=utf-8 45.0857ms {"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNJ8GS7SILF9:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.379 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5021/api/web-search/search - application/json 52 {"EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.381 +03:00 [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.383 +03:00 [INF] Executing endpoint 'Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)' {"EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.390 +03:00 [INF] Route matched with {action = "Search", controller = "WebSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(Alfanar.MarketIntel.Application.DTOs.WebSearchRequestDto) on controller Alfanar.MarketIntel.Api.Controllers.WebSearchController (Alfanar.MarketIntel.Api). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.405 +03:00 [INF] Processing web search for keyword: HVDC power transmission {"SourceContext":"Alfanar.MarketIntel.Api.Controllers.WebSearchController","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.407 +03:00 [INF] Searching with google for: HVDC power transmission {"SourceContext":"Alfanar.MarketIntel.Application.Services.WebSearchService","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.408 +03:00 [INF] Executing Google Custom Search for: HVDC power transmission {"SourceContext":"Alfanar.MarketIntel.Application.Services.GoogleSearchService","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.409 +03:00 [DBG] Calling Google Custom Search API: https://www.googleapis.com/customsearch/v1 {"SourceContext":"Alfanar.MarketIntel.Application.Services.GoogleSearchService","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:49.411 +03:00 [INF] Start processing HTTP request GET https://www.googleapis.com/customsearch/v1?q=HVDC%20power%20transmission&key=AIzaSyCD8iVcQYMZJM4MYKDaYFDAg0iBHzAwAaQ&cx=50edacb13c3074780&num=5 {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.Default.LogicalHandler","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9","Scope":["HTTP GET https://www.googleapis.com/customsearch/v1?q=HVDC%20power%20transmission&key=AIzaSyCD8iVcQYMZJM4MYKDaYFDAg0iBHzAwAaQ&cx=50edacb13c3074780&num=5"]}
2026-02-10 12:30:49.412 +03:00 [INF] Sending HTTP request GET https://www.googleapis.com/customsearch/v1?q=HVDC%20power%20transmission&key=AIzaSyCD8iVcQYMZJM4MYKDaYFDAg0iBHzAwAaQ&cx=50edacb13c3074780&num=5 {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.Default.ClientHandler","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9","Scope":["HTTP GET https://www.googleapis.com/customsearch/v1?q=HVDC%20power%20transmission&key=AIzaSyCD8iVcQYMZJM4MYKDaYFDAg0iBHzAwAaQ&cx=50edacb13c3074780&num=5"]}
2026-02-10 12:30:58.103 +03:00 [INF] Received HTTP response headers after 8690.2541ms - 403 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.Default.ClientHandler","HttpMethod":"GET","Uri":"https://www.googleapis.com/customsearch/v1?q=HVDC%20power%20transmission&key=AIzaSyCD8iVcQYMZJM4MYKDaYFDAg0iBHzAwAaQ&cx=50edacb13c3074780&num=5","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9","Scope":["HTTP GET https://www.googleapis.com/customsearch/v1?q=HVDC%20power%20transmission&key=AIzaSyCD8iVcQYMZJM4MYKDaYFDAg0iBHzAwAaQ&cx=50edacb13c3074780&num=5"]}
2026-02-10 12:30:58.104 +03:00 [INF] End processing HTTP request after 8694.5895ms - 403 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.Default.LogicalHandler","HttpMethod":"GET","Uri":"https://www.googleapis.com/customsearch/v1?q=HVDC%20power%20transmission&key=AIzaSyCD8iVcQYMZJM4MYKDaYFDAg0iBHzAwAaQ&cx=50edacb13c3074780&num=5","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9","Scope":["HTTP GET https://www.googleapis.com/customsearch/v1?q=HVDC%20power%20transmission&key=AIzaSyCD8iVcQYMZJM4MYKDaYFDAg0iBHzAwAaQ&cx=50edacb13c3074780&num=5"]}
2026-02-10 12:30:58.106 +03:00 [ERR] Error searching with Google for keyword: HVDC power transmission {"SourceContext":"Alfanar.MarketIntel.Application.Services.GoogleSearchService","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
System.Net.Http.HttpRequestException: Response status code does not indicate success: 403 (Forbidden).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Alfanar.MarketIntel.Application.Services.GoogleSearchService.SearchAsync(WebSearchRequestDto request) in D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Application\Services\GoogleSearchService.cs:line 67
2026-02-10 12:30:58.109 +03:00 [ERR] Error performing web search for: HVDC power transmission {"SourceContext":"Alfanar.MarketIntel.Application.Services.WebSearchService","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
System.Net.Http.HttpRequestException: Response status code does not indicate success: 403 (Forbidden).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Alfanar.MarketIntel.Application.Services.GoogleSearchService.SearchAsync(WebSearchRequestDto request) in D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Application\Services\GoogleSearchService.cs:line 67
   at Alfanar.MarketIntel.Application.Services.WebSearchService.SearchAsync(WebSearchRequestDto request) in D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Application\Services\WebSearchService.cs:line 65
   at Alfanar.MarketIntel.Application.Services.WebSearchService.SearchAsync(WebSearchRequestDto request) in D:\Storage Market Intel\Alfanar.MarketIntel\Alfanar.MarketIntel.Application\Services\WebSearchService.cs:line 106
2026-02-10 12:30:58.112 +03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d1f3a4c0-67e5-4b7a-98d6-4fbae07d7100","ActionName":"Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:58.115 +03:00 [INF] Executed action Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api) in 8723.2359ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:58.115 +03:00 [INF] Executed endpoint 'Alfanar.MarketIntel.Api.Controllers.WebSearchController.SearchAsync (Alfanar.MarketIntel.Api)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:58.116 +03:00 [INF] HTTP POST /api/web-search/search responded 400 in 8735.1885 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ8GS7SILF9:00000002","ConnectionId":"0HNJ8GS7SILF9"}
2026-02-10 12:30:58.117 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5021/api/web-search/search - 400 null application/json; charset=utf-8 8737.7288ms {"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNJ8GS7SILF9:00000002","RequestPath":"/api/web-search/search","ConnectionId":"0HNJ8GS7SILF9"}
